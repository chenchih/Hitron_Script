
package require netsnmptcl

# set ip "172.16.80.97"
set ip [list 172.16.90.31]
proc ccc {} {
	
	set count 0
	 
#	puts "$count -----------------------------------------------------------------------------------------------"
		# ----------------see cm gw mta mac-----------------------
				
		puts "#$count"
		puts "--------------------------------------------------------------------------------------------------------"
		puts "CM autoconfigure: [snmp_get -t 5 -Oqv $::ip private  .1.3.6.1.4.1.35604.1.19.52.1.1.204.1.5.2.0]"
		puts "--------------------------------------------------------------------------------------------------------"
	if {[snmp_get -t 5 -Oqv $::ip private  .1.3.6.1.4.1.35604.1.19.52.1.1.204.1.5.2.0] == 0} {
			puts "stateless"
		}  else  {	
	puts "convert to stateful"		
	if { [ catch {snmp_set -t 10 -Oqv $::ip private .1.3.6.1.4.1.35604.1.19.52.1.1.204.1.5.2.0 i 1 } ] } {}
	if { [ catch {snmp_set -t 1 -Oqv $::ip private .1.3.6.1.4.1.35604.1.19.52.1.1.204.1.6.0 i 1 } ] } {}

}
		
	


		} 
			
		# ---"---------------apply-------------------
		# puts "[snmp_get -t 5 -Oqv $AA private .1.3.6.1.4.1.35604.1.19.51.12.0 ]
		#incr count
	


ccc